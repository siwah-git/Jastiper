<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <title>Kategori - TitipGo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f5f7fa;
    }

    .header-search {
      font-size: 1rem;
      height: 36px;
      padding-left: 2.2rem;
      padding-right: 1rem;
      border-radius: 9999px;
      width: 180px;
      font-weight: 600;
    }

    @media (min-width: 1024px) {
      .header-search {
        width: 220px;
      }
    }

    .header-search::placeholder {
      color: #a0aec0;
      opacity: 1;
      font-size: 1rem;
      font-weight: 600;
    }

    .icon-nav,
    nav svg {
      width: 20px !important;
      height: 20px !important;
      min-width: 20px;
      min-height: 20px;
    }

    .icon-nav:hover {
      filter: brightness(0.7);
    }

    .nav-center {
      flex-grow: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1.5rem;
    }

    .nav-center a,
    .nav-center .dropdown-kategori>a {
      padding: 0;
      font-size: 1rem;
      font-weight: 600;
      letter-spacing: 0.01em;
    }

    .dropdown-kategori .dropdown-content,
    #userDropdown {
      min-width: 160px;
      border-radius: 8px;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.10);
      background: #fff;
      padding: 0;
      margin-top: 4px;
    }

    .dropdown-kategori .dropdown-content a,
    #userDropdown a {
      display: block;
      padding: 10px 18px;
      color: #222;
      text-decoration: none;
      font-size: 15px;
      border-bottom: 1px solid #f0f0f0;
      transition: background 0.15s, color 0.15s;
    }

    .dropdown-kategori .dropdown-content a:last-child,
    #userDropdown a:last-child {
      border-bottom: none;
    }

    .dropdown-kategori .dropdown-content a:hover,
    #userDropdown a:hover {
      background: #f5f7fa;
      color: #1976d2;
    }

    .logo-titipgo {
      width: 80px !important;
      min-width: 80px;
      max-width: 90px;
    }

    @media (max-width: 900px) {

      .icon-nav,
      nav svg {
        width: 16px !important;
        height: 16px !important;
      }

      .logo-titipgo {
        width: 60px !important;
      }

      .header-search {
        font-size: 0.9rem;
        height: 28px;
        width: 120px;
      }

      .header-search::placeholder {
        font-size: 0.9rem;
      }

      .nav-center a,
      .nav-center .dropdown-kategori>a {
        font-size: 0.9rem;
      }
    }

    .kategori-section {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin: 36px 0 0 0;
    }

    .kategori-col {
      text-align: center;
      min-width: 170px;
    }

    .kategori-label {
      background: #ff0080;
      color: #fff;
      font-weight: bold;
      padding: 7px 22px;
      border-radius: 16px;
      display: inline-block;
      margin-bottom: 12px;
      font-size: 15px;
      letter-spacing: 0.5px;
    }

    .kategori-box {
      background: #ededed;
      padding: 14px 24px;
      border-radius: 8px;
      text-align: left;
      min-width: 150px;
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.04);
    }

    .kategori-box a {
      display: block;
      padding: 5px 0;
      font-size: 15px;
      color: #222;
      text-decoration: none;
      border-bottom: 1px solid #e0e0e0;
      transition: color 0.2s;
    }

    .kategori-box a:last-child {
      border-bottom: none;
    }

    .kategori-box a:hover {
      color: #ff0080;
    }

    @media (max-width: 900px) {
      .kategori-section {
        flex-direction: column;
        align-items: center;
        gap: 24px;
      }

      .kategori-col {
        min-width: 0;
        width: 90vw;
      }

      .kategori-box {
        min-width: 0;
        width: 100%;
      }
    }
  </style>
</head>

<body class="font-sans bg-gray-100 m-0">
  <header class="bg-white shadow-md py-1 px-6 flex justify-between items-center fixed w-full top-0 z-50 mb-8">
    <div class="flex items-center space-x-3">
      <img src="asset/images/logo.jpg" alt="Logo TitipGo" class="w-20 sm:w-20 logo-titipgo">
      <div class="relative hidden md:block">
        <input type="text" placeholder="Cari Barang..."
          class="header-search font-sans border-2 border-gray-400 focus:outline-blue-500" />
        <svg class="w-5 h-5 absolute left-2.5 top-2.5 text-gray-500 pointer-events-none" fill="currentColor"
          viewBox="0 0 20 20">
          <path d="M8 4a4 4 0 104 4 4 4 0 00-4-4zM2 8a6 6 0 1110.39 3.94l4.3 4.3-1.42 1.42-4.3-4.3A6 6 0 012 8z" />
        </svg>
      </div>
    </div>
    <nav class="nav-center flex-grow hidden md:flex justify-center items-center gap-6">
      <a href="pembeli_produk_gucci.html" class="text-gray-700 hover:text-pink-600 font-semibold text-base">Beranda</a>
      <a href="pembeli_kategori.html"
        class="text-blue-700 font-bold cursor-pointer font-semibold text-base">Kategori</a>
      <a href="#" class="text-gray-700 hover:text-pink-600 font-semibold text-base">Hubungi kami</a>
    </nav>
    <nav class="flex items-center space-x-4 sm:space-x-6">
      <a href="pembeli_keranjang.html" class="relative p-2 text-gray-700 hover:text-pink-600">
        <svg class="icon-nav w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">
          </path>
        </svg>
      </a>
      <a href="#" class="relative p-2 text-gray-700 hover:text-pink-600"
        onclick="alert('Belum ada notifikasi!');return false;">
        <svg class="icon-nav w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9">
          </path>
        </svg>
      </a>
      <img src="https://cdn-icons-png.flaticon.com/512/747/747376.png" alt="User" class="icon-nav w-6 h-6" id="userIcon"
        style="cursor:pointer;">
      <div id="userDropdown"
        class="hidden absolute right-0 top-[60px] bg-white shadow-lg rounded min-w-[160px] z-[1001]">
        <a href="pembeli_akun.html"
          class="block px-5 py-3 text-gray-900 no-underline text-sm border-b border-gray-100">Akun Saya</a>
        <a href="pembeli_pesanan_saya.html"
          class="block px-5 py-3 text-gray-900 no-underline text-sm border-b border-gray-100">Pesanan</a>
        <a href="#" onclick="openChatCS();return false;"
          class="block px-5 py-3 text-blue-700 no-underline text-sm border-b border-gray-100">Chat dengan CS</a>
        <a href="#" onclick="logoutUser();return false;"
          class="block px-5 py-3 text-red-600 no-underline text-sm">Logout</a>
      </div>
    </nav>
  </header>
  <h1 class="page-title"
    style="text-align:center;font-size:2rem;font-weight:bold;margin:32px 0 16px 0;letter-spacing:1px;">KATEGORI</h1>
  <!-- Kategori Section -->
  <div class="kategori-section flex flex-wrap justify-center gap-8 md:gap-12 mt-36">
    <!-- Fashion & Aksesoris -->
    <div class="kategori-col flex flex-col items-center">
      <div class="kategori-label bg-pink-600 text-white font-bold px-6 py-2 rounded-full mb-3 text-base">Fashion &
        Aksesoris</div>
      <img src="asset/images/ootd (1).jpg" alt="OOTD" class="w-24 h-28 object-cover rounded-lg mb-2">
      <div class="kategori-box bg-gray-100 rounded-lg shadow p-5 w-48 text-left">
        <a href="pembeli_kategori_fashion.html" class="block py-1 border-b border-gray-200 last:border-b-0">Pakaian</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Sepatu</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Sandal</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Tas</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Dompet</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Jam Tangan</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Topi</a>
        <a href="#" class="block py-1">Aksesoris</a>
      </div>
    </div>
    <!-- Kosmetik & Skincare -->
    <div class="kategori-col flex flex-col items-center">
      <div class="kategori-label bg-pink-600 text-white font-bold px-6 py-2 rounded-full mb-3 text-base">Kosmetik &
        Skincare</div>
      <img src="asset/images/ootd (1).jpg" alt="OOTD" class="w-24 h-28 object-cover rounded-lg mb-2">
      <div class="kategori-box bg-gray-100 rounded-lg shadow p-5 w-48 text-left">
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Skincare</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Makeup</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Perawatan Rambut</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Body Care</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Masker Wajah</a>
        <a href="#" class="block py-1">Produk Khusus</a>
      </div>
    </div>
    <!-- Elektronik & Gadget -->
    <div class="kategori-col flex flex-col items-center">
      <div class="kategori-label bg-pink-600 text-white font-bold px-6 py-2 rounded-full mb-3 text-base">Elektronik &
        Gadget</div>
      <img src="asset/images/ootd (1).jpg" alt="OOTD" class="w-24 h-28 object-cover rounded-lg mb-2">
      <div class="kategori-box bg-gray-100 rounded-lg shadow p-5 w-48 text-left">
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Smartphone</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Aksesoris Gadget</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Kamera</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Smartwatch</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Alat Elektronik</a>
        <a href="#" class="block py-1">Gaming</a>
      </div>
    </div>
    <!-- Makanan & Minuman -->
    <div class="kategori-col flex flex-col items-center">
      <div class="kategori-label bg-pink-600 text-white font-bold px-6 py-2 rounded-full mb-3 text-base">Makanan &
        Minuman</div>
      <img src="asset/images/ootd (1).jpg" alt="OOTD" class="w-24 h-28 object-cover rounded-lg mb-2">
      <div class="kategori-box bg-gray-100 rounded-lg shadow p-5 w-48 text-left">
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Snack</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Minuman</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Bumbu</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Makanan</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Cokelat & permen</a>
        <a href="#" class="block py-1">Oleh-oleh musiman</a>
      </div>
    </div>
    <!-- Mainan & Hobi -->
    <div class="kategori-col flex flex-col items-center">
      <div class="kategori-label bg-pink-600 text-white font-bold px-6 py-2 rounded-full mb-3 text-base">Mainan & Hobi
      </div>
      <img src="asset/images/ootd (1).jpg" alt="OOTD" class="w-24 h-28 object-cover rounded-lg mb-2">
      <div class="kategori-box bg-gray-100 rounded-lg shadow p-5 w-48 text-left">
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Mainan anak</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Action figure</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Puzzle & board game</a>
        <a href="#" class="block py-1 border-b border-gray-200 last:border-b-0">Model kit</a>
        <a href="#" class="block py-1">Alat gambar</a>
      </div>
    </div>
  </div>
  <!-- ====== DAFTAR PRODUK DARI FIRESTORE ====== -->
  <div id="products-list" class="mt-6"></div>
  <footer class="bg-gray-200 text-gray-700 py-8 text-sm mt-12">
    <div class="max-w-6xl mx-auto px-4 flex flex-col md:flex-row justify-between items-start md:items-center">
      <div class="mb-6 md:mb-0 text-left">
        <p class="font-bold text-gray-800 mb-2">INFORMASI</p>
        <a href="#" class="block hover:text-pink-600 mb-1">Tentang Kami</a>
        <a href="#" class="block hover:text-pink-600 mb-1">Pertanyaan Umum</a>
        <a href="#" class="block hover:text-pink-600">Hubungi Kami</a>
      </div>
      <div class="text-center mb-6 md:mb-0 flex flex-col items-center justify-center">
        <img src="asset/images/logo.jpg" alt="Logo TitipGo" class="mx-auto w-9" style="height:32px;margin-bottom:0;">
        <div class="font-bold text-pink-600 text-xs leading-tight mt-1">TitipGo</div>
        <p class="text-[10px] text-gray-600 leading-tight">AMAN DAN AMANAH</p>
      </div>
      <div class="md:text-right">
        <p class="font-bold text-gray-800 mb-2">IKUTI SOSIAL MEDIA KAMI</p>
        <a href="#" class="flex items-center hover:text-pink-600 mb-1"><span class="icon mr-2">ðŸ“˜</span> Facebook</a>
        <a href="#" class="flex items-center hover:text-pink-600 mb-1"><span class="icon mr-2">ðŸ“º</span> Youtube</a>
        <a href="#" class="flex items-center hover:text-pink-600"><span class="icon mr-2">ðŸ“·</span> Instagram</a>
      </div>
    </div>
  </footer>
  <script>
    // Dropdown Kategori
    const kategoriMenu = document.getElementById('kategoriMenu');
    const dropdownKategori = document.getElementById('dropdownKategori');
    if (kategoriMenu && dropdownKategori) {
      kategoriMenu.addEventListener('click', function (e) {
        e.preventDefault();
        dropdownKategori.style.display = dropdownKategori.style.display === 'block' ? 'none' : 'block';
      });
      document.addEventListener('click', function (e) {
        if (!kategoriMenu.contains(e.target) && !dropdownKategori.contains(e.target)) {
          dropdownKategori.style.display = 'none';
        }
      });
    }
    // Dropdown User
    const userIcon = document.getElementById('userIcon');
    const userDropdown = document.getElementById('userDropdown');
    if (userIcon && userDropdown) {
      userIcon.onclick = function (e) {
        e.stopPropagation();
        userDropdown.classList.toggle('hidden');
      };
      document.addEventListener('click', function (e) {
        if (!userDropdown.contains(e.target) && e.target !== userIcon) {
          userDropdown.classList.add('hidden');
        }
      });
    }
    function logoutUser() {
      alert('Berhasil logout!');
      if (userDropdown) userDropdown.classList.add('hidden');
    }
    function openChatCS() {
      alert('Fitur chat CS akan segera hadir!');
      if (userDropdown) userDropdown.classList.add('hidden');
    }
  </script>
  <!-- Integrasi Firebase Firestore -->
  <script type="module">
    import { db, auth } from './js/firebase-config.js';
    import { collection, getDocs } from 'https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js';

    async function loadProductsFromFirestore() {
      const querySnapshot = await getDocs(collection(db, "products"));
      const products = [];
      querySnapshot.forEach((doc) => {
        products.push({ id: doc.id, ...doc.data() });
      });
      // Render ke HTML
      const container = document.getElementById('products-list');
      if (!products.length) {
        container.innerHTML = '<div class="text-gray-500 text-center py-8">Belum ada produk.</div>';
        return;
      }
      container.innerHTML = products.map(product => `
    <div class="border p-4 rounded mb-4 bg-white shadow flex flex-col items-center">
      <img src="${product.gambar}" class="w-24 h-24 object-cover mb-2 rounded" />
      <div class="font-bold text-lg mb-1 text-pink-600">${product.nama}</div>
      <div class="mb-1">Rp. ${product.harga.toLocaleString('id-ID')}</div>
      <div class="mb-1 text-gray-600 text-sm">${product.deskripsi}</div>
      <div class="text-xs text-gray-500">Varian: ${product.varian.join(', ')}</div>
    </div>
  `).join('');
    }
    window.addEventListener('DOMContentLoaded', loadProductsFromFirestore);
  </script>
</body>

</html>